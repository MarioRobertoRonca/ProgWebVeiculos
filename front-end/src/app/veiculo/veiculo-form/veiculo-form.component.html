<h1>{{ title }}</h1>

<form class="std-form" #f="ngForm" (ngSubmit)="salvar(f)">
  
  <mat-form-field>  
        <mat-select placeholder="Selecionar o tipo de veiculo" 
        required [(ngModel)]="veiculo.tipo_veiculo" name="tipo_veiculo">
            <mat-option *ngFor="let fv of formasVeiculos" [value]="fv.codigo">
                    {{fv.nome}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <!--
            O <mat-select> lista dos dados de uma entidade para que seja possível
            associar um deles relacionado a outra entidade.

            No cabeçalho do <mat-select> colocamos a entidade que é a DESTINO
            do relacionamento ( a entidade  à qual pretencem os dados do formulário).
        -->
        <mat-select placeholder="Selecione o usuario dono do veiculo" 
        required [(ngModel)]="veiculo.codUsuario" name="usuario">

            <!--
                No <mat-option> colocamos a entidade relacionada (aquela cuja dados
                serão listados).
                No atributo [value], será colocado sempre o _id da entidade relacionada.
                Entre {{ }}, colocamos o que queremos que o usuário veja na listagem.
                Quando o usuário fizer a seleção, o  _id  da entidade relacionada será 
                atribuída ao atributo indicado no ngModel  da entidade de destino 
            -->
            <mat-option *ngFor="let usuario of usuarios" [value]="usuario._id">
                    {{usuario.nome}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field >
        <mat-label>Marca</mat-label>
        <input matInput [(ngModel)]="veiculo.marca" name="marca"
        required placeholder="Informe a marca do veiculo">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Modelo</mat-label>
        <input matInput [(ngModel)]="veiculo.modelo" name="modelo"
        required placeholder="Informe o modelo do veiculo">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Ano Fabricação</mat-label>
        <input matInput [(ngModel)]="veiculo.anoFabri" name="anoFabri"
        required placeholder="Informe o ano de fabricação do veiculo" mask="0000">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Renavam</mat-label>
        <input matInput [(ngModel)]="veiculo.renavam" name="renavam"
        required placeholder="Informe o renavam do veiculo" mask="000000000">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Placa</mat-label>
        <input matInput [(ngModel)]="veiculo.placa" name="placa"
        required placeholder="Informe a placa do veiculo">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Ano Modelo</mat-label>
        <input matInput [(ngModel)]="veiculo.anoModelo" name="anoModelo"
        required placeholder="Informe o ano de modelo do veiculo" mask="0000">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Cidade</mat-label>
        <input matInput [(ngModel)]="veiculo.cidade" name="cidade"
        required placeholder="Informe a cidade do veiculo">
    </mat-form-field>

    <mat-form-field >
        <mat-label>Cor</mat-label>
        <input matInput [(ngModel)]="veiculo.cor" name="cor"
        required placeholder="Informe a cor do veiculo">
    </mat-form-field>
  
  <mat-toolbar class="form-buttons">
     <mat-toolbar-row>
        <button mat-raised-button type="submit" color="accent">
           Salvar
        </button>
        <button mat-raised-button type="button" (click)="voltar(f)">
           Voltar
        </button>
     </mat-toolbar-row>
  </mat-toolbar>

</form>



